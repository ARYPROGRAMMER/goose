"use strict";(self.webpackChunkgoose=self.webpackChunkgoose||[]).push([[7476],{60223:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"experimental/subagents","title":"Subagents","description":"Subagents are independent instances that execute tasks while keeping your main conversation clean and focused. They bring process isolation and context preservation by offloading work to separate instances. Think of them as temporary assistants that handle specific jobs without cluttering your chat with tool execution details.","source":"@site/docs/experimental/subagents.md","sourceDirName":"experimental","slug":"/experimental/subagents","permalink":"/goose/pr-preview/pr-3402/docs/experimental/subagents","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Subagents","sidebar_position":3,"sidebar_label":"Subagents"},"sidebar":"tutorialSidebar","previous":{"title":"Goose Mobile","permalink":"/goose/pr-preview/pr-3402/docs/experimental/goose-mobile"},"next":{"title":"Troubleshooting","permalink":"/goose/pr-preview/pr-3402/docs/troubleshooting"}}');var i=s(74848),r=s(28453);const o={title:"Subagents",sidebar_position:3,sidebar_label:"Subagents"},a=void 0,l={},c=[{value:"Execution Types",id:"execution-types",level:2},{value:"Internal Subagents",id:"internal-subagents",level:2},{value:"Direct Instruction",id:"direct-instruction",level:3},{value:"Recipe Configuration",id:"recipe-configuration",level:3},{value:"External Subagents",id:"external-subagents",level:2},{value:"Suggested Use Cases",id:"suggested-use-cases",level:2},{value:"Lifecycle and Cleanup",id:"lifecycle-and-cleanup",level:2},{value:"Configuration",id:"configuration",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Subagents are independent instances that execute tasks while keeping your main conversation clean and focused. They bring process isolation and context preservation by offloading work to separate instances. Think of them as temporary assistants that handle specific jobs without cluttering your chat with tool execution details."}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsx)(n.p,{children:"Subagents are an experimental feature in active development. Behavior and configuration may change in future releases."})}),"\n",(0,i.jsxs)(n.admonition,{title:"Prerequisites",type:"info",children:[(0,i.jsxs)(n.p,{children:["To use subagents, you need to enable alpha features first. You can do this by setting an ",(0,i.jsx)(n.a,{href:"/docs/guides/environment-variables#experimental-features",children:"environment variable"})," or adding it to your ",(0,i.jsx)(n.a,{href:"/docs/guides/config-file#experimental-features",children:"config file"}),":"]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Environment Variable:"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export ALPHA_FEATURES=true\n"})}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Config File"})," (",(0,i.jsx)(n.code,{children:"~/.config/goose/config.yaml"}),"):"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"ALPHA_FEATURES: true\n"})})]}),"\n",(0,i.jsx)(n.h2,{id:"execution-types",children:"Execution Types"}),"\n",(0,i.jsx)(n.p,{children:"You can run multiple subagents sequentially or in parallel."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Trigger Keywords"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"Sequential"})," (Default)"]}),(0,i.jsx)(n.td,{children:"Tasks execute one after another"}),(0,i.jsx)(n.td,{children:'"first...then", "after"'}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"First analyze the code, then generate documentation"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Parallel"})}),(0,i.jsx)(n.td,{children:"Tasks execute simultaneously"}),(0,i.jsx)(n.td,{children:'"parallel", "simultaneously", "at the same time", "concurrently"'}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"Create three HTML templates in parallel"'})})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"internal-subagents",children:"Internal Subagents"}),"\n",(0,i.jsx)(n.p,{children:"Internal subagents spawn Goose instances to handle tasks using your current session's context and extensions."}),"\n",(0,i.jsx)(n.h3,{id:"direct-instruction",children:"Direct Instruction"}),"\n",(0,i.jsx)(n.p,{children:"Direct instructions provided for one-off tasks using natural language prompts. The main agent automatically configures the subagent based on your request."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Goose Prompt:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\"Use 2 subagents to create hello.html with 'Hello World' content and goodbye.html with 'Goodbye World' content in parallel\"\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Tool Output:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "execution_summary": {\n    "total_tasks": 2,\n    "successful_tasks": 2,\n    "failed_tasks": 0,\n    "execution_time_seconds": 16.2\n  },\n  "task_results": [\n    {\n      "task_id": "create_hello_html",\n      "status": "success",\n      "result": "Successfully created hello.html with Hello World content"\n    },\n    {\n      "task_id": "create_goodbye_html", \n      "status": "success",\n      "result": "Successfully created goodbye.html with Goodbye World content"\n    }\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"recipe-configuration",children:"Recipe Configuration"}),"\n",(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.a,{href:"/docs/guides/recipes/",children:"recipe"})," files to define specific instructions, extensions, and behavior for the subagent."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Recipe File"}),": (",(0,i.jsx)(n.code,{children:"create-docs.yaml"}),")"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'name: "Documentation Generator"\ndescription: "Generate project documentation"\nextensions:\n  - developer\n  - memory\ninstructions: |\n  1. Scan the project structure\n  2. Generate README.md with project overview\n  3. Create API documentation from code comments\n  4. Update CHANGELOG.md with recent changes\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Command:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"goose run --recipe create-docs.yaml\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Tool Output:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "execution_summary": {\n    "total_tasks": 1,\n    "successful_tasks": 1,\n    "failed_tasks": 0,\n    "execution_time_seconds": 45.8\n  },\n  "task_results": [\n    {\n      "task_id": "create_docs_recipe",\n      "status": "success",\n      "result": "Successfully generated project documentation: README.md updated, API docs created, CHANGELOG.md refreshed"\n    }\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"external-subagents",children:"External Subagents"}),"\n",(0,i.jsx)(n.p,{children:"External subagents let you bring in AI agents from other providers and platforms, enabling Goose to coordinate and integrate your workflow with the broader ecosystem. In the below example, we use Codex as a subagent by running it as an MCP server:"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/guides/config-file",children:"Goose Configuration File"})})," (",(0,i.jsx)(n.code,{children:".~/.config/goose/config.yaml "}),"):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"subagent:\n  args:\n  - mcp\n  bundled: true\n  cmd: codex\n  description: OpenAI Codex CLI Sub-agent\n  enabled: true\n  env_keys:\n  - OPENAI_API_KEY\n  envs: {}\n  name: subagent\n  timeout: 300\n  type: stdio\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"External Tool Configuration"})," (",(0,i.jsx)(n.code,{children:"~/.codex/config.toml"}),"):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'# Use fast model for quick responses\n# model = "codex-mini-latest"\ndisable_response_storage = true\n\n# Never prompt for approval - auto-execute\napproval_policy = "never"\n\n[sandbox]\nmode = "workspace-write"\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Goose Prompt:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'"Use the codex subagent to analyze my codebase structure and identify the main components"\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Goose Output:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Based on my analysis of your codebase, here are the main components:\n\n1. **Core Agent System** (`crates/goose/src/agents/`)\n   - Agent orchestration and session management\n   - Tool execution framework\n   - Extension system integration\n\n2. **CLI Interface** (`crates/goose-cli/`)\n   - Command-line interface and session handling\n   - Configuration management\n\n3. **Server Components** (`crates/goose-server/`)\n   - HTTP API endpoints\n   - WebSocket communication for real-time interaction\n\n4. **Desktop UI** (`ui/desktop/`)\n   - Electron-based desktop application\n   - TypeScript frontend with React components\n\nThe architecture follows a modular design with clear separation between the core agent logic, interfaces, and UI components.\n"})}),"\n",(0,i.jsx)(n.h2,{id:"suggested-use-cases",children:"Suggested Use Cases"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Independent Operations"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Creating multiple files with similar structure"}),"\n",(0,i.jsx)(n.li,{children:"Basic data processing tasks"}),"\n",(0,i.jsx)(n.li,{children:"File transformations and generations"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Context Preservation"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Complex analysis that generates lots of tool output"}),"\n",(0,i.jsx)(n.li,{children:"Specialized tasks better handled by dedicated agents"}),"\n",(0,i.jsx)(n.li,{children:"Keeping main conversation focused on high-level decisions"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Process Isolation"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Tasks that might fail without affecting main workflow"}),"\n",(0,i.jsx)(n.li,{children:"Operations requiring different configurations"}),"\n",(0,i.jsx)(n.li,{children:"Experimental or exploratory work"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"lifecycle-and-cleanup",children:"Lifecycle and Cleanup"}),"\n",(0,i.jsx)(n.p,{children:"Subagents are temporary instances that exist only for task execution. After the task is completed, no manual intervention is needed for cleanup."}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"If a subagent fails or times out (5-minute default), you receive no output from that subagent. For parallel execution, if any subagent fails, you get results only from the successful ones."})}),"\n",(0,i.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(n.p,{children:"Goose automatically configures subagents by looking at environment variables, user prompts, and recipe files to determine the best settings for each task."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Instructions"})}),(0,i.jsx)(n.td,{children:"Task-specific behavior and context"}),(0,i.jsx)(n.td,{children:"Auto-generated from user request"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"You are a code reviewer focusing on security"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Max Turns"})}),(0,i.jsx)(n.td,{children:"Conversation limit before auto-completion"}),(0,i.jsx)(n.td,{children:"10"}),(0,i.jsx)(n.td,{children:"Set higher for complex tasks"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Timeout"})}),(0,i.jsx)(n.td,{children:"Maximum execution time"}),(0,i.jsx)(n.td,{children:"5 minutes"}),(0,i.jsx)(n.td,{children:"Prevents runaway processes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Extensions"})}),(0,i.jsx)(n.td,{children:"Available tools and capabilities"}),(0,i.jsx)(n.td,{children:"Inherits from main session"}),(0,i.jsx)(n.td,{children:"Recipe can specify subset"})]})]})]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var t=s(96540);const i={},r=t.createContext(i);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);