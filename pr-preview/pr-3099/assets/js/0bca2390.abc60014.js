"use strict";(self.webpackChunkgoose=self.webpackChunkgoose||[]).push([[6271],{59421:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"guides/recipe-reference","title":"Creating Recipes","description":"Recipes are YAML or JSON files that define how an AI agent should behave and what parameters it needs. They provide a structured way to create reusable AI interactions that can be shared and versioned.","source":"@site/docs/guides/recipe-reference.md","sourceDirName":"guides","slug":"/guides/recipe-reference","permalink":"/goose/pr-preview/pr-3099/docs/guides/recipe-reference","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":18,"frontMatter":{"sidebar_position":18,"title":"Creating Recipes","sidebar_label":"Recipes"},"sidebar":"tutorialSidebar","previous":{"title":"Creating Plans","permalink":"/goose/pr-preview/pr-3099/docs/guides/creating-plans"},"next":{"title":"Extension Allowlist","permalink":"/goose/pr-preview/pr-3099/docs/guides/allowlist"}}');var t=r(74848),s=r(28453);const l={sidebar_position:18,title:"Creating Recipes",sidebar_label:"Recipes"},d=void 0,a={},c=[{value:"Recipe File Format",id:"recipe-file-format",level:2},{value:"Recipe Structure",id:"recipe-structure",level:2},{value:"Required Fields",id:"required-fields",level:3},{value:"Optional Fields",id:"optional-fields",level:3},{value:"Parameters",id:"parameters",level:2},{value:"Required Parameter Fields",id:"required-parameter-fields",level:3},{value:"Optional Parameter Fields",id:"optional-parameter-fields",level:3},{value:"Parameter Requirements",id:"parameter-requirements",level:3},{value:"Template Support",id:"template-support",level:2},{value:"Built-in Parameters",id:"built-in-parameters",level:2},{value:"Example Recipe",id:"example-recipe",level:2},{value:"Template Inheritance",id:"template-inheritance",level:2},{value:"Recipe Location",id:"recipe-location",level:2},{value:"Validation Rules",id:"validation-rules",level:2},{value:"Error Handling",id:"error-handling",level:2}];function o(e){const i={admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.p,{children:"Recipes are YAML or JSON files that define how an AI agent should behave and what parameters it needs. They provide a structured way to create reusable AI interactions that can be shared and versioned."}),"\n",(0,t.jsx)(i.h2,{id:"recipe-file-format",children:"Recipe File Format"}),"\n",(0,t.jsx)(i.p,{children:"Recipes can be defined in either:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:".yaml"})," files (recommended)"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:".json"})," files"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Files should be named either:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"recipe.yaml"}),"/",(0,t.jsx)(i.code,{children:"recipe.json"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"<recipe_name>.yaml"}),"/",(0,t.jsx)(i.code,{children:"<recipe_name>.json"})]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"recipe-structure",children:"Recipe Structure"}),"\n",(0,t.jsx)(i.h3,{id:"required-fields",children:"Required Fields"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Field"}),(0,t.jsx)(i.th,{children:"Type"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"version"})}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsx)(i.td,{children:'The recipe format version (e.g., "1.0.0")'})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"title"})}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsx)(i.td,{children:"A short title describing the recipe"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"description"})}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsx)(i.td,{children:"A detailed description of what the recipe does"})]})]})]}),"\n",(0,t.jsx)(i.h3,{id:"optional-fields",children:"Optional Fields"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Field"}),(0,t.jsx)(i.th,{children:"Type"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"instructions"})}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsx)(i.td,{children:"Template instructions that can include parameter substitutions"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"prompt"})}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsx)(i.td,{children:"A template prompt that can include parameter substitutions"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"parameters"})}),(0,t.jsx)(i.td,{children:"Array"}),(0,t.jsx)(i.td,{children:"List of parameter definitions"})]})]})]}),"\n",(0,t.jsx)(i.h2,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsxs)(i.p,{children:["Each parameter in the ",(0,t.jsx)(i.code,{children:"parameters"})," array has the following structure:"]}),"\n",(0,t.jsx)(i.h3,{id:"required-parameter-fields",children:"Required Parameter Fields"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Field"}),(0,t.jsx)(i.th,{children:"Type"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"key"})}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsx)(i.td,{children:"Unique identifier for the parameter"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"input_type"})}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsx)(i.td,{children:'Type of input (e.g., "string")'})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"requirement"})}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsx)(i.td,{children:'One of: "required", "optional", or "user_prompt"'})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"description"})}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsx)(i.td,{children:"Human-readable description of the parameter"})]})]})]}),"\n",(0,t.jsx)(i.h3,{id:"optional-parameter-fields",children:"Optional Parameter Fields"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Field"}),(0,t.jsx)(i.th,{children:"Type"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsx)(i.tbody,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"default"})}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsx)(i.td,{children:"Default value for optional parameters"})]})})]}),"\n",(0,t.jsx)(i.h3,{id:"parameter-requirements",children:"Parameter Requirements"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"required"}),": Parameter must be provided when using the recipe"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"optional"}),": Can be omitted if a default value is specified"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"user_prompt"}),": Will interactively prompt the user for input if not provided"]}),"\n"]}),"\n",(0,t.jsx)(i.admonition,{type:"important",children:(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Optional parameters MUST have a default value specified"}),"\n",(0,t.jsx)(i.li,{children:"Required parameters cannot have default values"}),"\n",(0,t.jsx)(i.li,{children:"Parameter keys must match any template variables used in instructions or prompt"}),"\n"]})}),"\n",(0,t.jsx)(i.h2,{id:"template-support",children:"Template Support"}),"\n",(0,t.jsxs)(i.p,{children:["Recipes support Jinja-style template syntax in both ",(0,t.jsx)(i.code,{children:"instructions"})," and ",(0,t.jsx)(i.code,{children:"prompt"})," fields:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-yaml",children:'instructions: "Follow these steps with {{ parameter_name }}"\nprompt: "Your task is to {{ action }}"\n'})}),"\n",(0,t.jsx)(i.p,{children:"Advanced template features include:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Template inheritance using ",(0,t.jsx)(i.code,{children:'{% extends "parent.yaml" %}'})]}),"\n",(0,t.jsxs)(i.li,{children:["Blocks that can be defined and overridden:","\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-yaml",children:"{% block content %}\nDefault content\n{% endblock %}\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"built-in-parameters",children:"Built-in Parameters"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Parameter"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsx)(i.tbody,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"recipe_dir"})}),(0,t.jsx)(i.td,{children:"Automatically set to the directory containing the recipe file"})]})})]}),"\n",(0,t.jsx)(i.h2,{id:"example-recipe",children:"Example Recipe"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-yaml",children:'version: "1.0.0"\ntitle: "Example Recipe"\ndescription: "A sample recipe demonstrating the format"\ninstructions: "Follow these steps with {{ required_param }} and {{ optional_param }}"\nprompt: "Your task is to use {{ required_param }}"\nparameters:\n  - key: required_param\n    input_type: string\n    requirement: required\n    description: "A required parameter example"\n  \n  - key: optional_param\n    input_type: string\n    requirement: optional\n    default: "default value"\n    description: "An optional parameter example"\n  \n  - key: interactive_param\n    input_type: string\n    requirement: user_prompt\n    description: "Will prompt user if not provided"\n'})}),"\n",(0,t.jsx)(i.h2,{id:"template-inheritance",children:"Template Inheritance"}),"\n",(0,t.jsxs)(i.p,{children:["Parent recipe (",(0,t.jsx)(i.code,{children:"parent.yaml"}),"):"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-yaml",children:'version: "1.0.0"\ntitle: "Parent Recipe"\ndescription: "Base recipe template"\nprompt: |\n  {% block prompt %}\n  Default prompt text\n  {% endblock %}\n'})}),"\n",(0,t.jsx)(i.p,{children:"Child recipe:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-yaml",children:'{% extends "parent.yaml" %}\n{% block prompt %}\nModified prompt text\n{% endblock %}\n'})}),"\n",(0,t.jsx)(i.h2,{id:"recipe-location",children:"Recipe Location"}),"\n",(0,t.jsx)(i.p,{children:"Recipes can be loaded from:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Local filesystem:","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Current directory"}),"\n",(0,t.jsxs)(i.li,{children:["Directories specified in ",(0,t.jsx)(i.code,{children:"GOOSE_RECIPE_PATH"})," environment variable"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["GitHub repositories:","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Configure using ",(0,t.jsx)(i.code,{children:"GOOSE_RECIPE_GITHUB_REPO"})," configuration key"]}),"\n",(0,t.jsxs)(i.li,{children:["Requires GitHub CLI (",(0,t.jsx)(i.code,{children:"gh"}),") to be installed and authenticated"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"validation-rules",children:"Validation Rules"}),"\n",(0,t.jsx)(i.p,{children:"The following rules are enforced when loading recipes:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"All template variables must have corresponding parameter definitions"}),"\n",(0,t.jsx)(i.li,{children:"Optional parameters must have default values"}),"\n",(0,t.jsx)(i.li,{children:"Parameter keys must be unique"}),"\n",(0,t.jsx)(i.li,{children:"Recipe files must be valid YAML or JSON"}),"\n",(0,t.jsx)(i.li,{children:"Required fields (version, title, description) must be present"}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,t.jsx)(i.p,{children:"Common errors to watch for:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Missing required parameters"}),"\n",(0,t.jsx)(i.li,{children:"Optional parameters without default values"}),"\n",(0,t.jsx)(i.li,{children:"Template variables without parameter definitions"}),"\n",(0,t.jsx)(i.li,{children:"Invalid YAML/JSON syntax"}),"\n",(0,t.jsx)(i.li,{children:"Missing required fields"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"When these occur, Goose will provide helpful error messages indicating what needs to be fixed."})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},28453:(e,i,r)=>{r.d(i,{R:()=>l,x:()=>d});var n=r(96540);const t={},s=n.createContext(t);function l(e){const i=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),n.createElement(s.Provider,{value:i},e.children)}}}]);