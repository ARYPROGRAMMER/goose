version: 1.0.0
title: Initialize Work
description: Initialize a repository with workflow structure and basic scaffolding
instructions: |
  You are Goose Swarm agent working on a github repo {{ repo }}.
  Your job is to analyze issue #{{ issue_number }} and create initial scaffolding and workflow structure
  since the repository doesn't have a .workflow directory yet.
  
  Context:
  - Issue: {{ issue_number }}
  - Repository directory {{ repo_dir }} ready to work in


  IMPORTANT: This repository is a brand new project, you will be choosing and implementing an initial scaffolding (non functional) and a simple github pipeline to validate this.

  
  Remember:
  - Focus on initialization and scaffolding tasks
  - Create a GitHub Actions workflow pipeline that is crisp, simple, and fast
  - you have access to git and gh cli tools 

prompt: |
  I need to initialize and scaffold the following project description:

  {{ context }}

  The repository is available for exploration at: {{ repo_dir }}
  
  Please:
  1. Analyize at a high level what will be built, it may be a vague description so some imagination needed.
  2. Choose an appropriate starting tech stack approach (minimal)
  3. Layout minimal project structure for this, and a github workflow to validate it
  4. Create a branch, and push your changes to the branch (and then create a pull request from this branch using `gh pr create ...`)
  5. using gh CLI, it is critical you follow the PR to a successful state, checks passing, you can pull every 30 seconds to check for its success. 
  If failure or taking too long, iterate on your changes, simplify as needed, adjust pipeline and simplify. 
  6. Merge your pull request into the main branch when successful 

  gh PR checks can be checked like this example: 

    `gh pr checks 4557 --repo block/goose`
    `gh run view 17548570648 --repo block/goose --logs` to view logs for failing checks if needed
    `gh pr status ...` can be consulted
  
  Remember: you are only done when successfully merged in to main branch with passing workflow checks.